{% extends 'layouts/main.html' %}

{% block title %}OpenPDI{% endblock %}

{% block css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.css" />
<link rel="stylesheet" href="{{ url_for('static', filename='css/pages/home.css') }}">
{% endblock %}

{% block content %}
<section class="usa-section">
  <div class="usa-grid-full usa-grid-padded">
      <div id="wrapper" class="usa-width-one-whole">
          <h2>Traffic Stops</h2>
          <p>
            Stanford University's
            <a href="https://openpolicing.stanford.edu/">Open Policing Project</a>
            has collected and standardized over 130 million traffic stop records
            from 31 state police agencies. This data includes information such
            as stop date, reason, and location, which we've begun exploring
            below.
          </p>
          <div id="traffic" class="map" style="width:100%;height:100%;"></div>
          <p>
            There are more than 50,000 traffic stops on a typical day in the
            U.S. A plurality of these stops take place on Friday (~16.1%),
            with speeding violations accounting for nearly half (~49%) of all
            stops.
          </p>
      </div>
        <div class="usa-width-one-half usa-grid-padded">
          <div id="reasons"></div>
      </div>
      <div class="usa-width-one-half usa-grid-padded">
        <div id="days"></div>
      </div>
  </div>

  <div class="usa-grid-full">
    <div class="usa-width-one-whole">
      <p>
        Stanford's analysis of this data can
        <a href="https://openpolicing.stanford.edu/findings/">be found here</a>.
      </p>
    </div>
  </div>
</section>
{% endblock %}

{% block js %}
<script type=text/javascript>
  $SCRIPT_ROOT={{ request.script_root|tojson|safe }};
</script>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/heatmap.js"></script>
<script src="https://code.highcharts.com/modules/tilemap.js"></script>

<script src="{{ url_for('static', filename='js/home/map.js') }}"></script>
{% endblock %}
